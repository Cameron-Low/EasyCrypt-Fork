(env
 (dev     (flags :standard -rectypes -w +28+33-3-6-9-23-32-34-35-38-39-58))
 (release (flags :standard -rectypes)
          (ocamlopt_flags -O3 -unbox-closures)))

; Fixme: use Dune's build-info library once the build system is
; migrated to Dune
(rule
 (targets ecVersion.ml)
 (action (copy ecVersion.ml.in %{targets})))

(include_subdirs unqualified)

(executable
 (public_name easycrypt)
 (name ec)
 (libraries batteries inifiles why3 zarith yojson))

(ocamllex ecLexer)

(menhir
 (modules ecParser)
 (flags --table))
