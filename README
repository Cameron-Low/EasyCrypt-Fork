* REQUIREMENTS
====================================================================

 * OCaml (>= 3.12)

   Available at http://caml.inria.fr/

 * Menhir

   Available at http://gallium.inria.fr/~fpottier/menhir/

 * Why3  (= 0.80)

   Available at http://why3.lri.fr/

   Why3 must be installed with a set a provers.
   See [http://why3.lri.fr/#provers]

   Why3 libraries must be installed (make byte && make install-lib)

   You can install a local copy of Why3 by running [make why3]. In
   that case, don't forget to add why3/why3-$version/bin to your path
   before using easycrypt and add $PWD/why/why3-$version/lib to the
   OCAMLPATH environment variable.

   Note that the [LOCAL TOOLCHAIN] (see below) is already including a
   local copy of Why3. The [LOCAL TOOLCHAIN] IS the preferred method
   to install a local copy of Why3. The [make why3] method will be
   deprecated in a near future.

 * Unix extlib

   Available at http://extunix.forge.ocamlcore.org/

 * GNU Emacs (>= 0.23)

   Available at http://www.gnu.org/software/emacs/

 * ProofGeneral 4.2

   Available at http://proofgeneral.inf.ed.ac.uk/

* LOCAL TOOLCHAIN
====================================================================

You can install a local copy of OCaml and all the needed libraries by
running [make toolchain]. You only need [curl] and the [gcc] compiler.

By default, the destination directory is ${PWD}/_tools. You can change
this by setting the $DEST variable, e.g.:

  make DEST=/opt/ec-toolchain toolchain

Note that $DEST cannot contain spaces.

The toolchain is not activated by default. You have to:

  source $DEST/ocaml-$VERSION/etc/ocamlbrew.bashrc

This command has to be repeated each time you start a fresh terminal.

Regarding the Why3 configuration file, easycrypt is using the default
Why3 location, i.e. ~/.why3.conf. If you have several versions of Why3
installed, it may be impossible to share the same configuration file
among them. EasyCrypt, via the option -why3, allows you to load a Why3
configuration file from a custom location. For instance:

  why3config --detect -C $DEST/why3.conf
  ./ec.native -why3 $DEST/why3.conf

* COMPILATION
====================================================================

The shell commands

  make
  make install

should build and install easycrypt.

It is possible to change the installation prefix by setting the
environment variable PREFIX:

  make PREFIX=/my/prefix install

* INSTALLING THE PROOFGENERAL FRONT-END
====================================================================

Add the following entry to <proof-general-home>/generic/proof-site.el
in the definition of `proof-assistant-table-default':

  (easycrypt "EasyCrypt" "ec")

Copy the directory easycrypt/ to <proof-general-home>/

If you have not done so, add the following line to your Emacs
configuration file (typically ~/.emacs):

  (load-file "<proof-general-home>/generic/proof-site.el")

If the EasyCrypt executable is not in your $PATH, set the path to the
EasyCrypt executable by modifying the variable easycrypt-prog-name
inside Emacs:

  Proof-General
    -> Advanced 
      -> Customize 
        -> EasyCrypt
          -> EasyCrypt prog name

setting its value to:

  "<path-to-easycrypt>/easycrypt -emacs"
